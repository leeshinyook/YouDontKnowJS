# 클래스와 객체의 혼합

> 클래스 지향 개념은 자바스크립트 객체 체계와는 태생부터 잘 맞지 않아, 이러한 한계를 극복하고
>
> 기능을 확장(`Mixin`) 하고자 노력해왔다.



## 클래스 이론

> 클래스이론에서는 어떤 작동이 담긴 메서드의 이름을 부모와 자식 클래스 모두 똑같이 공유하여 자식 클래스 메서드가 
>
> 부모 클래스 메서드를 오버라이드하라 권장한다.
>
> But, 자바스크립트에서 이렇게 하면, 예기치 않은 결과를 초래하고 불안정한 코드가 만들어진다.

- 다형성(`Polymorphism`) 
  - 부모 클래스에 뭉뚱그려 정의된 작동을 자식 클래스에서 좀 더 구체화하여 오버라이드(재정의)하는 것

### 클래스 디자인 패턴

> 클래스 역시 디자인패턴의 일종이다.
>
> 클래스는 객체 지향 프로그래밍을 위해 설계된 수단이자 디자인 패턴이다.

### 자바스크립트 클래스 

> 자바스크립트의 클래스는 그저 구문일 뿐이며, 내부는 다른 방식으로 작동한다.

- 클래스는 디자인패턴의 일종이므로, 자바스크립트에 클래스를 사용할지 아닐지는 개발자가 결정할 문제이다.



## 클래스 체계



### 생성자

```javascript
class Wow {
  what() {
    console.log("Hello world!");
  }
}
var h = new Wow(); // 클래스의 인스턴스를 생성할 것 이라는 신호, new!
h.what(); // Hello world!
```



### 상속

> [[Prototype]] 체계의 작동 방식.
>
> 다중상속(Multiple Inheritance) : 마름모 문제, 자바스크립트에서는 지원하지 않는다.
>
> 마름모 문제 : 두 개의 부모클래스에서 똑같은 명의 메서드가 있고, 두 부모의 다중 상속이 된다면, 자식입장에서는 
>
> 어떤 부모클래스의 메서드를 오버라이딩할 것인가?



## 믹스인

> 자바스크립트 객체는 상속받거나 인스턴스화해도 자동으로 복사 잡업이 일어나지 않는다.
>
> 자바스크립트에서는 `클래스` 란 개념이 없고, 오직 `객체` 만 존재한다.

- 믹스인 : 자바스크립트에선 누락된 클래스 복사 기능을 흉내낸 것.

```javascript
function mixin(sourceObj, targetObj) {
  for(var key in sourceObj) {
    // 타깃에 없는 프로퍼티만 복사한다.
    if(!(key in targetObj)) {
      targetObj[key] = sourceObj[key];
    }
  }
}
```

### 다형성

- 명시적 의사다형성 : Object.fn.call(this)
  - 장점보다는 비용이 훨씬 더 많이 들기 때문에, 가능한 쓰지 말라!



## 정리

- 클래스는 디자인 패턴의 일종이다.
- 자바스크립트에서 클래스는 복사를 의미한다.
- 믹스인은 복사기능이 아니라 공유된 레퍼런스만을 생성한다.

